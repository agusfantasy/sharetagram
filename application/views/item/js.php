<script>    $("#click_like").click(function(){        var fClass  = $( this ).data('act');        if(userSelfId==''){            alert("You should login");        }        else{            // Like item            if( fClass === 'like-icon' ){                $(this).removeClass('like-icon').addClass('like-icon-active');                var likeCount = <?php echo (int)$likes_count; ?>;                $("#like-count").text(likeCount+1);                var userSelfName = '<?php echo $user_self_name ?>';                //$(".likes ul").append('<li><a href="'+BASE+'user/'+userSelfId+'/'+userSelfName+'">'+userSelfName+'</a></li>');                $(".likes li:eq(0)").before('<li id="'+userSelfId+'" ><a href="'+BASE+'user/'+userSelfId+'/'+userSelfName+'">'+userSelfName+'</a></li>');                $( this ).data('act','like-icon-active');                var url = BASE+"site/post_like";                $.post(url,                    {                        mid : '<?php echo $media_id; ?>'                    },                    function(data,status){                        console.log(data);                        if(status==false){                            alert("failed. Please try again!");                            $(this).removeClass('like-icon-active').addClass('like-icon');                            $("#like-count").text(likeCount-1);                            $( this ).data('act','like-icon');                        }                        else{                            return true;                        }                    });            }            // UnLike item            else{                $(this).removeClass('like-icon-active').addClass('like-icon');                var likeCount = <?php echo (int)$likes_count; ?>;                $("#like-count").text(likeCount-1);                //var userSelfName = '<?php echo $user_self_name ?>';                //$(".likes ul").append('<li><a href="'+BASE+'user/'+userSelfId+'/'+userSelfName+'">'+userSelfName+'</a></li>');                //$(".likes li:eq(0)").before('<li><a href="'+BASE+'user/'+userSelfId+'/'+userSelfName+'">'+userSelfName+'</a></li>');                //$(li                //console.log($('#'+userSelfId).text());                $('#'+userSelfId).hide();                $( this ).data('act','like-icon');                var urlUnlike = BASE+"site/remove_like";                $.post(urlUnlike,                    {                        mid : '<?php echo $media_id; ?>'                    },                    function(data,status){                        console.log(data);                        if(status==false && data==false){                            alert("failed. Please try again!");                            $(this).removeClass('like-icon').addClass('like-icon-active');                            $('.likes li #'+userSelfId).show();                            $("#like-count").text(likeCount+1);                            $( this ).data('act','like-icon-active');                        }                        else{                            return true;                            $('.likes li #'+userSelfId).remove();                        }                    });            }        }    });</script>